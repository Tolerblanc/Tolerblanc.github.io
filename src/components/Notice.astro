---
/**
 * Notice Component
 *
 * Jekyllì˜ notice ë¸”ë¡ì„ ëŒ€ì²´í•˜ëŠ” MDX ì»´í¬ë„ŒíŠ¸
 *
 * ì‚¬ìš©ë²•:
 * <Notice type="info">
 *   ğŸ‘¨â€ğŸ’» ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
 * </Notice>
 */

interface Props {
  type?: 'info' | 'warning' | 'danger' | 'success' | 'primary';
}

const { type = 'info' } = Astro.props;

const typeStyles = {
  info: {
    bgColor: 'bg-blue-50 dark:bg-blue-900/20',
    borderColor: 'border-blue-200 dark:border-blue-700',
    textColor: 'text-blue-900 dark:text-blue-100',
    iconColor: 'text-blue-600 dark:text-blue-400',
    icon: 'â„¹ï¸',
  },
  primary: {
    bgColor: 'bg-purple-50 dark:bg-purple-900/20',
    borderColor: 'border-purple-200 dark:border-purple-700',
    textColor: 'text-purple-900 dark:text-purple-100',
    iconColor: 'text-purple-600 dark:text-purple-400',
    icon: 'ğŸ“',
  },
  warning: {
    bgColor: 'bg-yellow-50 dark:bg-yellow-900/20',
    borderColor: 'border-yellow-200 dark:border-yellow-700',
    textColor: 'text-yellow-900 dark:text-yellow-100',
    iconColor: 'text-yellow-600 dark:text-yellow-400',
    icon: 'âš ï¸',
  },
  danger: {
    bgColor: 'bg-red-50 dark:bg-red-900/20',
    borderColor: 'border-red-200 dark:border-red-700',
    textColor: 'text-red-900 dark:text-red-100',
    iconColor: 'text-red-600 dark:text-red-400',
    icon: 'âŒ',
  },
  success: {
    bgColor: 'bg-green-50 dark:bg-green-900/20',
    borderColor: 'border-green-200 dark:border-green-700',
    textColor: 'text-green-900 dark:text-green-100',
    iconColor: 'text-green-600 dark:text-green-400',
    icon: 'âœ…',
  },
};

const style = typeStyles[type];
---

<div
  class:list={[
    'notice',
    'rounded-lg',
    'border-l-4',
    'p-4',
    'my-4',
    style.bgColor,
    style.borderColor,
    style.textColor,
  ]}
  role="alert"
  aria-live="polite"
>
  <div class="flex gap-3">
    <span class:list={['notice-icon', 'text-xl', style.iconColor]} aria-hidden="true">
      {style.icon}
    </span>
    <div class="notice-content flex-1">
      <slot />
    </div>
  </div>
</div>

<style>
  .notice {
    margin: 1.5rem 0;
  }

  .notice-content {
    line-height: 1.6;
  }

  /* MDXì—ì„œ ë‚´ë¶€ ë§ˆí¬ë‹¤ìš´ ìŠ¤íƒ€ì¼ë§ */
  .notice-content :global(p) {
    margin: 0.5rem 0;
  }

  .notice-content :global(p:first-child) {
    margin-top: 0;
  }

  .notice-content :global(p:last-child) {
    margin-bottom: 0;
  }

  .notice-content :global(code) {
    background-color: rgba(0, 0, 0, 0.1);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
  }

  .notice-content :global(strong) {
    font-weight: 600;
  }

  .notice-content :global(a) {
    text-decoration: underline;
    text-underline-offset: 2px;
  }
</style>
