# Jekyll â†’ Astro ë§ˆì´ê·¸ë ˆì´ì…˜ ì§„í–‰ ìƒí™©

> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-12
> **í˜„ì¬ ë¸Œëœì¹˜**: `astro-experimental`
> **Phase**: 1 ì™„ë£Œ (Astro 5.14.4 ì—…ê·¸ë ˆì´ë“œ í¬í•¨), Phase 2 ì¤€ë¹„ ì¤‘
> **Astro ë²„ì „**: 5.14.4 (Content Layer, Vite 6 í¬í•¨)

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ](#ë§ˆì´ê·¸ë ˆì´ì…˜-ì „ëµ)
3. [ì™„ë£Œëœ ì‘ì—… (Phase 1)](#ì™„ë£Œëœ-ì‘ì—…-phase-1)
4. [ë‹¤ìŒ ì‘ì—… ê³„íš (Phase 2-5)](#ë‹¤ìŒ-ì‘ì—…-ê³„íš-phase-2-5)
5. [ê¸°ìˆ  ìŠ¤íƒ ë¹„êµ](#ê¸°ìˆ -ìŠ¤íƒ-ë¹„êµ)
6. [í•µì‹¬ ìš”êµ¬ì‚¬í•­](#í•µì‹¬-ìš”êµ¬ì‚¬í•­)
7. [íŒŒì¼ êµ¬ì¡° ë§¤í•‘](#íŒŒì¼-êµ¬ì¡°-ë§¤í•‘)
8. [ë°°í¬ ì „ëµ](#ë°°í¬-ì „ëµ)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### í˜„ì¬ ìƒíƒœ
- **ì‚¬ì´íŠ¸**: https://tolerblanc.github.io
- **í¬ìŠ¤íŠ¸ ìˆ˜**: 75ê°œ ì´ìƒì˜ í•œêµ­ì–´ ê¸°ìˆ  ë¬¸ì„œ
- **í…Œë§ˆ**: minimal-mistakes-jekyll v4.24.0
- **ë¹Œë“œ ë„êµ¬**: Jekyll (Ruby ê¸°ë°˜)
- **íŠ¸ë˜í”½**: ìƒë‹¹ëŸ‰ì˜ ìœ ê¸°ì  íŠ¸ë˜í”½ (SEO ìœ ì§€ í•„ìˆ˜)

### ë§ˆì´ê·¸ë ˆì´ì…˜ ëª©í‘œ
1. **Ruby ì˜ì¡´ì„± ì œê±°** - JavaScript/TypeScript ìƒíƒœê³„ë¡œ ì „í™˜
2. **ê°œë°œ ê²½í—˜ ê°œì„ ** - ë” ë¹ ë¥¸ ë¹Œë“œ, í•« ë¦¬ë¡œë“œ, íƒ€ì… ì•ˆì •ì„±
3. **í™•ì¥ì„± ê°•í™”** - MDXë¡œ ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
4. **SEO 100% ë³´ì¡´** - URL, ë©”íƒ€ë°ì´í„°, Analytics ìœ ì§€
5. **ì‹¤í—˜ì  ì ‘ê·¼** - ë³„ë„ ë¸Œëœì¹˜ì—ì„œ ê²€ì¦ í›„ ì ì§„ì  ì „í™˜

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### ì›ì¹™
- **ì•ˆì „ì„± ìš°ì„ **: ë©”ì¸ ì‚¬ì´íŠ¸ëŠ” ê³„ì† ìš´ì˜í•˜ë©° ì‹¤í—˜ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…
- **SEO ë³´ì¡´**: ëª¨ë“  URL, ë©”íƒ€ë°ì´í„°, Analytics ì„¤ì • ìœ ì§€
- **ì ì§„ì  ì „í™˜**: `/experimental` ê²½ë¡œë¡œ ë°°í¬í•˜ì—¬ A/B í…ŒìŠ¤íŠ¸
- **ë…ë¦½ì  ì»¤ë°‹**: ê° ê¸°ëŠ¥ì€ ë³„ë„ ì»¤ë°‹ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ë¡¤ë°± ê°€ëŠ¥

### ë‹¨ê³„ë³„ ê³„íš

#### Phase 1: ê¸°ì´ˆ ì¸í”„ë¼ êµ¬ì¶• âœ… **ì™„ë£Œ**
- [x] Astro í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [x] TypeScript ë° ë¦°í„° ì„¤ì •
- [x] ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [x] GitHub Actions ì›Œí¬í”Œë¡œìš° ì„¤ì •
- [x] **Astro 5.14.4 ì—…ê·¸ë ˆì´ë“œ** (2025-10-12 ì¶”ê°€)
  - Astro 4.16.0 â†’ 5.14.4
  - @astrojs/mdx 3.0.0 â†’ 4.3.7
  - @astrojs/react 3.0.0 â†’ 4.4.0
  - Content Layer API ì ìš©
  - Vite 6.0 ì ìš©

#### Phase 2: ì½˜í…ì¸  ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ ğŸ”„ **ë‹¤ìŒ ë‹¨ê³„**
- [ ] Jekyll â†’ MDX ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] frontmatter ë§¤í•‘ ìœ í‹¸ë¦¬í‹°
- [ ] ìƒ˜í”Œ í¬ìŠ¤íŠ¸ ë³€í™˜ ë° ê²€ì¦
- [ ] ì´ë¯¸ì§€ ê²½ë¡œ ë³€í™˜ ë¡œì§

#### Phase 3: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
- [ ] ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (BaseLayout, PostLayout)
- [ ] SEO ë©”íƒ€ë°ì´í„° ì‹œìŠ¤í…œ
- [ ] Google Analytics í†µí•© (G-JWJT3DQR8G)
- [ ] Giscus ëŒ“ê¸€ í†µí•©
- [ ] RSS/Sitemap ìƒì„±

#### Phase 4: UI ì»´í¬ë„ŒíŠ¸ ë° ë””ìì¸
- [ ] Notice ì»´í¬ë„ŒíŠ¸ (info, warning, danger)
- [ ] ì½”ë“œ í•˜ì´ë¼ì´íŒ… (Shiki/Prism)
- [ ] TOC (ëª©ì°¨) ì»´í¬ë„ŒíŠ¸
- [ ] ì¹´í…Œê³ ë¦¬/íƒœê·¸ ë„¤ë¹„ê²Œì´ì…˜
- [ ] ë‹¤í¬ í…Œë§ˆ êµ¬í˜„
- [ ] ê²€ìƒ‰ ê¸°ëŠ¥ (Algolia/Fuse.js)

#### Phase 5: ìµœì í™” ë° ê²€ì¦
- [ ] ì´ë¯¸ì§€ ìµœì í™” (@astrojs/image)
- [ ] í•œê¸€ í°íŠ¸ ìµœì í™” (subset, preload)
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ë²¤ì¹˜ë§ˆí¬
- [ ] SEO ê²€ì¦ (Lighthouse, ë©”íƒ€íƒœê·¸)
- [ ] ë§í¬ ë¬´ê²°ì„± ê²€ì‚¬
- [ ] ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ (WCAG)

---

## ì™„ë£Œëœ ì‘ì—… (Phase 1)

### 1. ë¸Œëœì¹˜ ë° í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

**ìƒì„±ëœ ë¸Œëœì¹˜**: `astro-experimental`

```bash
git checkout -b astro-experimental
```

### 2. íŒ¨í‚¤ì§€ ê´€ë¦¬ ë° ì˜ì¡´ì„±

**íŒŒì¼**: `package.json`

```json
{
  "name": "tolerblanc-blog",
  "type": "module",
  "version": "1.0.0",
  "scripts": {
    "dev": "astro dev",
    "build": "astro check && astro build",
    "preview": "astro preview",
    "type-check": "astro check",
    "jekyll:dev": "bundle exec jekyll serve",
    "jekyll:build": "bundle exec jekyll build"
  },
  "dependencies": {
    "@astrojs/check": "^0.9.0",
    "@astrojs/mdx": "^3.0.0",
    "@astrojs/react": "^3.0.0",
    "@astrojs/rss": "^4.0.0",
    "@astrojs/sitemap": "^3.0.0",
    "astro": "^4.16.0",
    "react": "^18.3.0",
    "react-dom": "^18.3.0",
    "sharp": "^0.33.0"
  }
}
```

**ì£¼ìš” íŠ¹ì§•**:
- pnpm ì‚¬ìš© (ë” ë¹ ë¥¸ ì˜ì¡´ì„± ê´€ë¦¬)
- Jekyll ëª…ë ¹ì–´ ë³´ì¡´ (í•˜ìœ„ í˜¸í™˜ì„±)
- ESM ëª¨ë“ˆ ì‹œìŠ¤í…œ ì‚¬ìš©

### 3. TypeScript ì„¤ì •

**íŒŒì¼**: `tsconfig.json`

```json
{
  "extends": "astro/tsconfigs/strict",
  "include": ["src/**/*"],
  "exclude": [
    "node_modules",
    "dist",
    ".astro",
    "_site",
    "_posts",
    "assets",
    "banner.js"
  ],
  "compilerOptions": {
    "jsx": "react-jsx",
    "jsxImportSource": "react",
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@components/*": ["src/components/*"],
      "@layouts/*": ["src/layouts/*"],
      "@utils/*": ["src/utils/*"],
      "@content/*": ["src/content/*"]
    }
  }
}
```

**ì£¼ìš” íŠ¹ì§•**:
- Strict ëª¨ë“œ í™œì„±í™”
- Path aliases ì„¤ì • (import ê²½ë¡œ ë‹¨ì¶•)
- Jekyll íŒŒì¼ ì œì™¸ (íƒ€ì… ì²´í¬ ì¶©ëŒ ë°©ì§€)

### 4. Astro ì„¤ì •

**íŒŒì¼**: `astro.config.mjs`

```javascript
import { defineConfig } from 'astro/config';
import mdx from '@astrojs/mdx';
import react from '@astrojs/react';
import sitemap from '@astrojs/sitemap';

export default defineConfig({
  site: 'https://tolerblanc.github.io',
  base: '/experimental',
  integrations: [
    mdx(),
    react(),
    sitemap()
  ],
  markdown: {
    shikiConfig: {
      theme: 'dark-plus',
      wrap: true
    }
  },
  vite: {
    optimizeDeps: {
      exclude: ['sharp']
    }
  }
});
```

**ì£¼ìš” íŠ¹ì§•**:
- `/experimental` base path (ë©”ì¸ ì‚¬ì´íŠ¸ì™€ ê²©ë¦¬)
- MDX, React, Sitemap í†µí•©
- Shiki ì½”ë“œ í•˜ì´ë¼ì´íŒ… (dark-plus í…Œë§ˆ)

### 5. ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ components/       # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ React/Astro ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ layouts/          # í˜ì´ì§€ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿
â”œâ”€â”€ pages/            # íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…
â”‚   â””â”€â”€ index.astro   # ëœë”© í˜ì´ì§€
â”œâ”€â”€ content/
â”‚   â””â”€â”€ blog/         # ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ (MDX)
â”œâ”€â”€ styles/           # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â””â”€â”€ utils/            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```

### 6. GitHub Actions ì›Œí¬í”Œë¡œìš°

**íŒŒì¼**: `.github/workflows/deploy-experimental.yml`

```yaml
name: Deploy Experimental Astro Site

on:
  push:
    branches: [astro-experimental]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v4
        with:
          version: 10
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - run: pnpm install --frozen-lockfile
      - run: pnpm build
      - uses: actions/upload-artifact@v4
        with:
          name: astro-dist
          path: dist/

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          ref: main
      - uses: actions/download-artifact@v4
        with:
          name: astro-dist
          path: experimental/
      - uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./experimental
          destination_dir: experimental
```

**ì£¼ìš” íŠ¹ì§•**:
- ìë™ ë°°í¬ (`astro-experimental` ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ)
- pnpm ìºì‹±ìœ¼ë¡œ ë¹Œë“œ ì†ë„ í–¥ìƒ
- Artifact ê¸°ë°˜ ë¹Œë“œ/ë°°í¬ ë¶„ë¦¬
- `/experimental` ê²½ë¡œë¡œ ê²©ë¦¬ ë°°í¬

### 7. ì´ˆê¸° ëœë”© í˜ì´ì§€

**íŒŒì¼**: `src/pages/index.astro`

ë§ˆì´ê·¸ë ˆì´ì…˜ ì§„í–‰ ìƒí™©ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ í˜ì´ì§€:
- í”„ë¡œì íŠ¸ ì†Œê°œ
- ì§„í–‰ ìƒí™© ì²´í¬ë¦¬ìŠ¤íŠ¸
- ë©”ì¸ ì‚¬ì´íŠ¸ ë§í¬

### 8. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

```
311197f chore: Add GitHub Actions workflow for experimental deployment
527cfdb feat: Initialize Astro project for experimental migration
```

---

## ë‹¤ìŒ ì‘ì—… ê³„íš (Phase 2-5)

### Phase 2: ì½˜í…ì¸  ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ (ìš°ì„ ìˆœìœ„ ë†’ìŒ)

#### 2.1 Jekyll â†’ MDX ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸

**ëª©ì **: 75ê°œ ì´ìƒì˜ í¬ìŠ¤íŠ¸ë¥¼ ìë™ ë³€í™˜

**ë³€í™˜ ë¡œì§**:
```javascript
// src/utils/jekyll-to-mdx.js (ì˜ˆì •)
// 1. frontmatter íŒŒì‹± ë° ë³€í™˜
//    - date, title, categories, tags, excerpt ì¶”ì¶œ
//    - Astro Content Collection í˜•ì‹ìœ¼ë¡œ ë³€í™˜
// 2. ë³¸ë¬¸ ë³€í™˜
//    - Liquid êµ¬ë¬¸ ì œê±°/ë³€í™˜
//    - ì´ë¯¸ì§€ ê²½ë¡œ ìˆ˜ì •
//    - Notice ë¸”ë¡ â†’ MDX ì»´í¬ë„ŒíŠ¸
// 3. íŒŒì¼ëª… ë³€í™˜
//    - YYYY-MM-DD-title.md â†’ title.mdx
//    - ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìœ ì§€
```

**ì…ë ¥ ì˜ˆì‹œ** (`_posts/Web/NestJS/2025-03-15-nestjs-dematerializer-4.md`):
```markdown
---
title: "NestJS í•´ì²´ë¶„ì„ê¸° 4í¸"
excerpt: "NestJS ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ ì‹¬ì¸µ ë¶„ì„"
categories:
  - Web
  - NestJS
tags:
  - TypeScript
  - Backend
---

<div class="notice--info" markdown="1">
ğŸ‘¨â€ğŸ’» ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
</div>

## ê°œìš”
NestJSì˜ ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ì„ ë¶„ì„í•©ë‹ˆë‹¤...
```

**ì¶œë ¥ ì˜ˆì‹œ** (`src/content/blog/web/nestjs/nestjs-dematerializer-4.mdx`):
```mdx
---
title: "NestJS í•´ì²´ë¶„ì„ê¸° 4í¸"
description: "NestJS ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ ì‹¬ì¸µ ë¶„ì„"
pubDate: 2025-03-15
categories: ["Web", "NestJS"]
tags: ["TypeScript", "Backend"]
---

import Notice from '@components/Notice.astro';

<Notice type="info">
ğŸ‘¨â€ğŸ’» ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
</Notice>

## ê°œìš”
NestJSì˜ ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ì„ ë¶„ì„í•©ë‹ˆë‹¤...
```

#### 2.2 Content Collections ì„¤ì •

**íŒŒì¼**: `src/content/config.ts` (ìƒì„± ì˜ˆì •)

```typescript
import { defineCollection, z } from 'astro:content';

const blog = defineCollection({
  type: 'content',
  schema: z.object({
    title: z.string(),
    description: z.string(),
    pubDate: z.date(),
    updatedDate: z.date().optional(),
    categories: z.array(z.string()),
    tags: z.array(z.string()),
    draft: z.boolean().default(false),
  }),
});

export const collections = { blog };
```

#### 2.3 ìƒ˜í”Œ ë³€í™˜ ë° ê²€ì¦

1. ëŒ€í‘œ í¬ìŠ¤íŠ¸ 3-5ê°œ ìˆ˜ë™ ë³€í™˜
2. ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë° ê²°ê³¼ ë¹„êµ
3. ë Œë”ë§ í…ŒìŠ¤íŠ¸ (ì´ë¯¸ì§€, ì½”ë“œë¸”ë¡, ë§í¬)
4. ì „ì²´ í¬ìŠ¤íŠ¸ ë°°ì¹˜ ë³€í™˜

---

### Phase 3: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

#### 3.1 ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ

**BaseLayout.astro** (ê¸°ë³¸ ë ˆì´ì•„ì›ƒ):
```astro
---
interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalURL} />

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JWJT3DQR8G"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JWJT3DQR8G');
    </script>
  </head>
  <body>
    <slot />
  </body>
</html>
```

**PostLayout.astro** (í¬ìŠ¤íŠ¸ ë ˆì´ì•„ì›ƒ):
```astro
---
import BaseLayout from './BaseLayout.astro';
import Giscus from '@components/Giscus.astro';

interface Props {
  frontmatter: {
    title: string;
    description: string;
    pubDate: Date;
    categories: string[];
    tags: string[];
  }
}

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title} description={frontmatter.description}>
  <article>
    <header>
      <h1>{frontmatter.title}</h1>
      <time datetime={frontmatter.pubDate.toISOString()}>
        {frontmatter.pubDate.toLocaleDateString('ko-KR')}
      </time>
    </header>

    <div class="content">
      <slot />
    </div>

    <Giscus />
  </article>
</BaseLayout>
```

#### 3.2 Google Analytics í†µí•©

**í˜„ì¬ ì„¤ì • (ìœ ì§€ í•„ìˆ˜)**:
- Tracking ID: `G-JWJT3DQR8G`
- í˜ì´ì§€ë·° ìë™ ì¶”ì 
- ì´ë²¤íŠ¸ ì¶”ì  (ì„ íƒì )

**êµ¬í˜„ ë°©ë²•**:
1. BaseLayoutì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ (ìœ„ ì˜ˆì‹œ ì°¸ì¡°)
2. í™˜ê²½ ë³€ìˆ˜ë¡œ ID ê´€ë¦¬ (`PUBLIC_GA_ID`)
3. ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”

#### 3.3 Giscus ëŒ“ê¸€ ì‹œìŠ¤í…œ

**í˜„ì¬ ì„¤ì • (ìœ ì§€ í•„ìˆ˜)**:
```javascript
{
  repo: "Tolerblanc/Tolerblanc.github.io",
  repoId: "R_kgDOJ01EaQ",
  category: "Announcements",
  categoryId: "DIC_kwDOJ01Eac4Cerab",
  theme: "dark_dimmed",
  lang: "ko"
}
```

**ì»´í¬ë„ŒíŠ¸**: `src/components/Giscus.astro` (ìƒì„± ì˜ˆì •)

```astro
---
// Giscus ì„¤ì •ì€ í™˜ê²½ ë³€ìˆ˜ë‚˜ configì—ì„œ ê°€ì ¸ì˜¤ê¸°
---

<div class="giscus-wrapper">
  <script
    src="https://giscus.app/client.js"
    data-repo="Tolerblanc/Tolerblanc.github.io"
    data-repo-id="R_kgDOJ01EaQ"
    data-category="Announcements"
    data-category-id="DIC_kwDOJ01Eac4Cerab"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="dark_dimmed"
    data-lang="ko"
    crossorigin="anonymous"
    async>
  </script>
</div>
```

#### 3.4 RSS ë° Sitemap

**RSS í”¼ë“œ** (`src/pages/rss.xml.ts` ìƒì„± ì˜ˆì •):
```typescript
import rss from '@astrojs/rss';
import { getCollection } from 'astro:content';

export async function GET(context) {
  const posts = await getCollection('blog');
  return rss({
    title: "ì¸ìƒì€ Bì™€ Dì‚¬ì´ Codeë‹¤",
    description: "Tolerblancì˜ ê¸°ìˆ  ë¸”ë¡œê·¸",
    site: context.site,
    items: posts.map((post) => ({
      title: post.data.title,
      pubDate: post.data.pubDate,
      description: post.data.description,
      link: `/blog/${post.slug}/`,
    })),
  });
}
```

**Sitemap**: `@astrojs/sitemap` í†µí•©ìœ¼ë¡œ ìë™ ìƒì„±ë¨ âœ…

---

### Phase 4: UI ì»´í¬ë„ŒíŠ¸ ë° ë””ìì¸

#### 4.1 Notice ì»´í¬ë„ŒíŠ¸

**í˜„ì¬ Jekyll êµ¬ë¬¸**:
```html
<div class="notice--info" markdown="1">
ğŸ‘¨â€ğŸ’» ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
</div>
```

**ëª©í‘œ MDX êµ¬ë¬¸**:
```mdx
<Notice type="info">
ğŸ‘¨â€ğŸ’» ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
</Notice>
```

**ì»´í¬ë„ŒíŠ¸**: `src/components/Notice.astro` (ìƒì„± ì˜ˆì •)

```astro
---
interface Props {
  type?: 'info' | 'warning' | 'danger' | 'success';
}

const { type = 'info' } = Astro.props;
---

<div class={`notice notice--${type}`}>
  <slot />
</div>

<style>
  .notice {
    padding: 1rem;
    margin: 1.5rem 0;
    border-radius: 4px;
    border-left: 4px solid;
  }

  .notice--info {
    background-color: #e7f3ff;
    border-color: #2196f3;
  }

  .notice--warning {
    background-color: #fff3cd;
    border-color: #ffc107;
  }

  .notice--danger {
    background-color: #f8d7da;
    border-color: #dc3545;
  }

  .notice--success {
    background-color: #d4edda;
    border-color: #28a745;
  }
</style>
```

#### 4.2 ì½”ë“œ í•˜ì´ë¼ì´íŒ…

**í˜„ì¬**: Rouge (Ruby ê¸°ë°˜)
**ëª©í‘œ**: Shiki (ì´ë¯¸ ì„¤ì •ë¨ âœ…)

**ì¶”ê°€ ì„¤ì •** (astro.config.mjs):
```javascript
markdown: {
  shikiConfig: {
    theme: 'dark-plus',
    wrap: true,
    langs: [
      'javascript', 'typescript', 'python', 'go',
      'rust', 'java', 'bash', 'json', 'yaml'
    ]
  }
}
```

#### 4.3 ëª©ì°¨ (TOC) ì»´í¬ë„ŒíŠ¸

**ì»´í¬ë„ŒíŠ¸**: `src/components/TableOfContents.astro` (ìƒì„± ì˜ˆì •)

```astro
---
interface Props {
  headings: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
}

const { headings } = Astro.props;
---

<nav class="toc">
  <h2>ëª©ì°¨</h2>
  <ul>
    {headings.map(heading => (
      <li class={`toc-level-${heading.depth}`}>
        <a href={`#${heading.slug}`}>{heading.text}</a>
      </li>
    ))}
  </ul>
</nav>

<style>
  .toc {
    position: sticky;
    top: 2rem;
    max-width: 250px;
  }

  .toc-level-2 { margin-left: 0; }
  .toc-level-3 { margin-left: 1rem; }
  .toc-level-4 { margin-left: 2rem; }
</style>
```

**ì‚¬ìš© ì˜ˆì‹œ** (PostLayout.astro):
```astro
---
const { headings } = await Astro.props.frontmatter;
---

<div class="post-container">
  <TableOfContents headings={headings} />
  <article>
    <slot />
  </article>
</div>
```

#### 4.4 ì¹´í…Œê³ ë¦¬/íƒœê·¸ ì‹œìŠ¤í…œ

**í˜ì´ì§€ ìƒì„±**: `src/pages/categories/[category].astro` (ì˜ˆì •)

```astro
---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  const categories = [...new Set(posts.flatMap(post => post.data.categories))];

  return categories.map(category => ({
    params: { category },
    props: {
      posts: posts.filter(post =>
        post.data.categories.includes(category)
      )
    }
  }));
}

const { category } = Astro.params;
const { posts } = Astro.props;
---

<BaseLayout title={`ì¹´í…Œê³ ë¦¬: ${category}`}>
  <h1>{category}</h1>
  <ul>
    {posts.map(post => (
      <li>
        <a href={`/blog/${post.slug}/`}>{post.data.title}</a>
      </li>
    ))}
  </ul>
</BaseLayout>
```

#### 4.5 ê²€ìƒ‰ ê¸°ëŠ¥

**í˜„ì¬**: Lunr.js (Jekyll í”ŒëŸ¬ê·¸ì¸)
**ëª©í‘œ**: Algolia ë˜ëŠ” Fuse.js

**Option 1 - Algolia** (ì¶”ì²œ):
- ë¹ ë¥¸ ê²€ìƒ‰ ì†ë„
- í•œê¸€ í˜•íƒœì†Œ ë¶„ì„ ì§€ì›
- ë¬´ë£Œ í”Œëœ (10K requests/month)

**Option 2 - Fuse.js** (ëŒ€ì•ˆ):
- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ìƒ‰
- ì™¸ë¶€ ì„œë¹„ìŠ¤ ë¶ˆí•„ìš”
- í¬ìŠ¤íŠ¸ ìˆ˜ê°€ ë§ì„ ê²½ìš° ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥

---

### Phase 5: ìµœì í™” ë° ê²€ì¦

#### 5.1 ì´ë¯¸ì§€ ìµœì í™”

**ì„¤ì¹˜**: `@astrojs/image` ë˜ëŠ” `astro-imagetools`

```bash
pnpm add @astrojs/image
```

**astro.config.mjs ì—…ë°ì´íŠ¸**:
```javascript
import image from '@astrojs/image';

export default defineConfig({
  integrations: [
    image({
      serviceEntryPoint: '@astrojs/image/sharp'
    })
  ]
});
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```astro
---
import { Image } from '@astrojs/image/components';
---

<Image
  src="/assets/images/hero.png"
  alt="Hero image"
  width={1200}
  height={600}
  format="webp"
  quality={80}
/>
```

#### 5.2 í•œê¸€ í°íŠ¸ ìµœì í™”

**ì „ëµ**:
1. **Subset ìƒì„±**: ì‚¬ìš© ë¹ˆë„ ë†’ì€ í•œê¸€ 2,350ìë§Œ í¬í•¨
2. **Preload**: ì¤‘ìš” í°íŠ¸ëŠ” `<link rel="preload">`
3. **Font Display**: `font-display: swap` ì‚¬ìš©
4. **Variable Fonts**: ê°€ëŠ¥í•œ ê²½ìš° ê°€ë³€ í°íŠ¸ ì‚¬ìš©

**êµ¬í˜„ ì˜ˆì‹œ** (BaseLayout.astro):
```astro
<head>
  <!-- í•œê¸€ í°íŠ¸ preload -->
  <link
    rel="preload"
    href="/fonts/PretendardVariable.subset.woff2"
    as="font"
    type="font/woff2"
    crossorigin
  />
</head>

<style is:global>
  @font-face {
    font-family: 'Pretendard';
    src: url('/fonts/PretendardVariable.subset.woff2') format('woff2-variations');
    font-display: swap;
    font-weight: 100 900;
  }

  body {
    font-family: 'Pretendard', -apple-system, sans-serif;
  }
</style>
```

#### 5.3 ì„±ëŠ¥ ëª©í‘œ ë° ë²¤ì¹˜ë§ˆí¬

**ëª©í‘œ ë©”íŠ¸ë¦­**:
- **ë¹Œë“œ ì‹œê°„**: <30ì´ˆ (75ê°œ í¬ìŠ¤íŠ¸)
- **í•« ë¦¬ë¡œë“œ**: <3ì´ˆ
- **Lighthouse ì ìˆ˜**: 95+ (ëª¨ë“  ì¹´í…Œê³ ë¦¬)
- **ë²ˆë“¤ í¬ê¸°**: <500KB (ì´ˆê¸° ë¡œë“œ)
- **FCP**: <1.5s
- **LCP**: <2.5s
- **CLS**: <0.1

**ì¸¡ì • ë„êµ¬**:
- Lighthouse CI
- WebPageTest
- Chrome DevTools Performance

#### 5.4 SEO ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

**URL êµ¬ì¡°** (í•„ìˆ˜):
- [ ] ëª¨ë“  ê¸°ì¡´ URLì´ ë™ì¼í•œ íŒ¨í„´ ìœ ì§€
- [ ] `/:categories/:title/` í˜•ì‹ ë³´ì¡´
- [ ] ë¦¬ë‹¤ì´ë ‰íŠ¸ ì—†ì´ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥

**ë©”íƒ€ë°ì´í„°**:
- [ ] `<title>` íƒœê·¸ (ê° í˜ì´ì§€ ê³ ìœ )
- [ ] `<meta name="description">`
- [ ] Open Graph íƒœê·¸ (`og:title`, `og:description`, `og:image`)
- [ ] Twitter Card íƒœê·¸
- [ ] Canonical URL (`<link rel="canonical">`)

**êµ¬ì¡°í™”ëœ ë°ì´í„°**:
- [ ] BlogPosting Schema.org ë§ˆí¬ì—…
- [ ] BreadcrumbList
- [ ] Article ë©”íƒ€ë°ì´í„°

**ê¸°ìˆ ì  SEO**:
- [ ] Sitemap ìƒì„± ë° ê²€ì¦
- [ ] robots.txt ì„¤ì •
- [ ] RSS í”¼ë“œ ìƒì„±
- [ ] 404 í˜ì´ì§€

#### 5.5 ë§í¬ ë¬´ê²°ì„± ê²€ì‚¬

**ë„êµ¬**: `linkinator` ë˜ëŠ” `broken-link-checker`

```bash
pnpm add -D linkinator

# package.json
{
  "scripts": {
    "check-links": "linkinator dist/ --recurse --silent --skip '^https?://localhost'"
  }
}
```

**ìë™í™”**: GitHub Actionsì— ì¶”ê°€

```yaml
- name: Check for broken links
  run: |
    pnpm build
    pnpm check-links
```

#### 5.6 ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

**ë„êµ¬**:
- axe DevTools
- Lighthouse Accessibility
- WAVE

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ì‹œë§¨í‹± HTML ì‚¬ìš©
- [ ] ARIA ë ˆì´ë¸” ì ì ˆíˆ ì‚¬ìš©
- [ ] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ê°€ëŠ¥
- [ ] ìƒ‰ìƒ ëŒ€ë¹„ ì¶©ë¶„ (WCAG AA ì´ìƒ)
- [ ] ì´ë¯¸ì§€ alt í…ìŠ¤íŠ¸
- [ ] í¼ ë ˆì´ë¸” ì—°ê²°

---

## ê¸°ìˆ  ìŠ¤íƒ ë¹„êµ

| í•­ëª© | Jekyll (í˜„ì¬) | Astro (ëª©í‘œ) |
|------|--------------|-------------|
| **ì–¸ì–´** | Ruby | JavaScript/TypeScript |
| **í…œí”Œë¦¿** | Liquid | Astro + JSX |
| **ì½˜í…ì¸ ** | Markdown | MDX (Markdown + Components) |
| **ìŠ¤íƒ€ì¼** | Sass | CSS + Sass (ì„ íƒì ) |
| **ë¹Œë“œ ë„êµ¬** | Jekyll | Vite |
| **íŒ¨í‚¤ì§€ ê´€ë¦¬** | Bundler (Gemfile) | pnpm (package.json) |
| **í•« ë¦¬ë¡œë“œ** | ëŠë¦¼ (~10s) | ë¹ ë¦„ (<3s) |
| **íƒ€ì… ì•ˆì •ì„±** | ì—†ìŒ | TypeScript |
| **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©** | Includes (ì œí•œì ) | React/Astro ì»´í¬ë„ŒíŠ¸ |
| **ì½”ë“œ í•˜ì´ë¼ì´íŒ…** | Rouge | Shiki |
| **ê²€ìƒ‰** | Lunr.js | Algolia/Fuse.js (ì˜ˆì •) |

---

## í•µì‹¬ ìš”êµ¬ì‚¬í•­

### 1. SEO ë³´ì¡´ (ìµœìš°ì„ )

#### URL êµ¬ì¡° ìœ ì§€
```
í˜„ì¬: https://tolerblanc.github.io/web/nestjs/nestjs-dematerializer-4/
ìœ ì§€: https://tolerblanc.github.io/web/nestjs/nestjs-dematerializer-4/
```

**êµ¬í˜„ ë°©ë²•**:
- Content Collectionsì˜ slug í™œìš©
- ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìœ ì§€
- `[...slug].astro` ë™ì  ë¼ìš°íŒ…

**íŒŒì¼ ë§¤í•‘ ì˜ˆì‹œ**:
```
Jekyll: _posts/Web/NestJS/2025-03-15-nestjs-dematerializer-4.md
Astro:  src/content/blog/web/nestjs/nestjs-dematerializer-4.mdx
URL:    /web/nestjs/nestjs-dematerializer-4/
```

#### Google Analytics ì—°ì†ì„±
- Tracking ID ë™ì¼: `G-JWJT3DQR8G`
- í˜ì´ì§€ë·° ì¶”ì  í˜•ì‹ ë™ì¼
- ì´ë²¤íŠ¸ ì¶”ì  êµ¬ì¡° ìœ ì§€ (ìˆëŠ” ê²½ìš°)

#### Giscus ëŒ“ê¸€ ì—°ì†ì„±
- pathname ê¸°ë°˜ ë§¤í•‘ ì‚¬ìš© ì¤‘ (ë³€ê²½ ë¶ˆí•„ìš”)
- ê¸°ì¡´ ëŒ“ê¸€ ìë™ ìœ ì§€ë¨

### 2. ì½˜í…ì¸  ë¬´ê²°ì„±

#### í¬ìŠ¤íŠ¸ ë©”íƒ€ë°ì´í„° ë³´ì¡´
- ë°œí–‰ì¼ (pubDate)
- ì¹´í…Œê³ ë¦¬ (ê³„ì¸µ êµ¬ì¡° ìœ ì§€)
- íƒœê·¸
- ì œëª© ë° ë°œì·Œë¬¸

#### ì´ë¯¸ì§€ ë° ë¯¸ë””ì–´
- ê²½ë¡œ ë³€í™˜ (Jekyll â†’ Astro)
- ìµœì í™” ì ìš© (WebP ë³€í™˜)
- Alt í…ìŠ¤íŠ¸ ë³´ì¡´

#### ë‚´ë¶€ ë§í¬
- ìƒëŒ€ ê²½ë¡œ â†’ ì ˆëŒ€ ê²½ë¡œ ë³€í™˜
- ë§í¬ ê²€ì¦ í•„ìˆ˜

### 3. ì„±ëŠ¥ ê°œì„ 

**ëª©í‘œ**:
- ë¹Œë“œ ì‹œê°„: í˜„ì¬ ëŒ€ë¹„ 50% ë‹¨ì¶•
- í˜ì´ì§€ ë¡œë“œ: í˜„ì¬ ëŒ€ë¹„ 30% ê°œì„ 
- Lighthouse ì ìˆ˜: 95+ (í˜„ì¬: ì¸¡ì • í•„ìš”)

### 4. ê°œë°œì ê²½í—˜

**ê°œì„  ì‚¬í•­**:
- íƒ€ì… ì•ˆì •ì„± (TypeScript)
- ë¹ ë¥¸ í•« ë¦¬ë¡œë“œ (<3s)
- ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
- ëª¨ë˜ ê°œë°œ ë„êµ¬ (ESLint, Prettier)

---

## íŒŒì¼ êµ¬ì¡° ë§¤í•‘

### Jekyll êµ¬ì¡° (í˜„ì¬)
```
.
â”œâ”€â”€ _config.yml                 # ì‚¬ì´íŠ¸ ì„¤ì •
â”œâ”€â”€ _data/                      # ë°ì´í„° íŒŒì¼
â”œâ”€â”€ _includes/                  # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ _layouts/                   # í˜ì´ì§€ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ default.html
â”‚   â”œâ”€â”€ single.html
â”‚   â””â”€â”€ archive.html
â”œâ”€â”€ _posts/                     # ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ Personal/
â”‚   â”œâ”€â”€ PL/
â”‚   â”œâ”€â”€ Web/
â”‚   â”‚   â””â”€â”€ NestJS/
â”‚   â”‚       â””â”€â”€ 2025-03-15-nestjs-dematerializer-4.md
â”‚   â”œâ”€â”€ DevOps/
â”‚   â”œâ”€â”€ CS/
â”‚   â””â”€â”€ Algorithm/
â”œâ”€â”€ _sass/                      # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”œâ”€â”€ assets/                     # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ js/
â”œâ”€â”€ Gemfile                     # Ruby ì˜ì¡´ì„±
â””â”€â”€ _site/                      # ë¹Œë“œ ì¶œë ¥ (ë¬´ì‹œ)
```

### Astro êµ¬ì¡° (ëª©í‘œ)
```
.
â”œâ”€â”€ astro.config.mjs            # Astro ì„¤ì •
â”œâ”€â”€ tsconfig.json               # TypeScript ì„¤ì •
â”œâ”€â”€ package.json                # npm ì˜ì¡´ì„±
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/             # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Notice.astro
â”‚   â”‚   â”œâ”€â”€ Giscus.astro
â”‚   â”‚   â”œâ”€â”€ TableOfContents.astro
â”‚   â”‚   â””â”€â”€ PostCard.astro
â”‚   â”œâ”€â”€ layouts/                # í˜ì´ì§€ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ BaseLayout.astro
â”‚   â”‚   â”œâ”€â”€ PostLayout.astro
â”‚   â”‚   â””â”€â”€ ArchiveLayout.astro
â”‚   â”œâ”€â”€ pages/                  # ë¼ìš°íŒ…
â”‚   â”‚   â”œâ”€â”€ index.astro
â”‚   â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”‚   â””â”€â”€ [...slug].astro # ë™ì  ë¼ìš°íŒ…
â”‚   â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â”‚   â””â”€â”€ [category].astro
â”‚   â”‚   â”œâ”€â”€ tags/
â”‚   â”‚   â”‚   â””â”€â”€ [tag].astro
â”‚   â”‚   â”œâ”€â”€ rss.xml.ts
â”‚   â”‚   â””â”€â”€ 404.astro
â”‚   â”œâ”€â”€ content/                # ì½˜í…ì¸  ì»¬ë ‰ì…˜
â”‚   â”‚   â”œâ”€â”€ config.ts
â”‚   â”‚   â””â”€â”€ blog/
â”‚   â”‚       â”œâ”€â”€ personal/
â”‚   â”‚       â”œâ”€â”€ pl/
â”‚   â”‚       â”œâ”€â”€ web/
â”‚   â”‚       â”‚   â””â”€â”€ nestjs/
â”‚   â”‚       â”‚       â””â”€â”€ nestjs-dematerializer-4.mdx
â”‚   â”‚       â”œâ”€â”€ devops/
â”‚   â”‚       â”œâ”€â”€ cs/
â”‚   â”‚       â””â”€â”€ algorithm/
â”‚   â”œâ”€â”€ styles/                 # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ global.css
â”‚   â”‚   â””â”€â”€ markdown.css
â”‚   â””â”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚       â”œâ”€â”€ jekyll-to-mdx.js
â”‚       â”œâ”€â”€ formatDate.ts
â”‚       â””â”€â”€ sortPosts.ts
â”œâ”€â”€ public/                     # ì •ì  íŒŒì¼ (ë³µì‚¬ë¨)
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy-experimental.yml
â””â”€â”€ dist/                       # ë¹Œë“œ ì¶œë ¥ (ë¬´ì‹œ)
```

### íŒŒì¼ ë³€í™˜ ë§¤í•‘

| Jekyll | Astro | ë³€í™˜ ì‘ì—… |
|--------|-------|----------|
| `_posts/Web/NestJS/YYYY-MM-DD-title.md` | `src/content/blog/web/nestjs/title.mdx` | frontmatter ë³€í™˜, Liquid â†’ MDX |
| `_layouts/single.html` | `src/layouts/PostLayout.astro` | Liquid â†’ Astro êµ¬ë¬¸ |
| `_includes/notice` | `src/components/Notice.astro` | ì»´í¬ë„ŒíŠ¸í™” |
| `assets/images/*` | `public/images/*` | ê²½ë¡œ ìˆ˜ì •, ìµœì í™” |
| `_config.yml` | `astro.config.mjs` | ì„¤ì • ì´ì „ |

---

## ë°°í¬ ì „ëµ

### í˜„ì¬ ë°°í¬ (Jekyll)
```
main ë¸Œëœì¹˜ â†’ GitHub Pages ìë™ ë°°í¬ â†’ https://tolerblanc.github.io
```

### ì‹¤í—˜ ë°°í¬ (Astro)
```
astro-experimental ë¸Œëœì¹˜
  â†’ GitHub Actions ë¹Œë“œ
  â†’ gh-pages ë¸Œëœì¹˜ì˜ /experimental ë””ë ‰í† ë¦¬ì— ë°°í¬
  â†’ https://tolerblanc.github.io/experimental
```

### ìµœì¢… ì „í™˜ ì‹œë‚˜ë¦¬ì˜¤

**ì˜µì…˜ 1: ì ì§„ì  ì „í™˜ (ê¶Œì¥)**
```
1. /experimentalì—ì„œ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸
2. ë©”ì¸ ì‚¬ì´íŠ¸ì— "ìƒˆ ë²„ì „ ì²´í—˜í•˜ê¸°" ë§í¬ ì¶”ê°€
3. ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ (2-4ì£¼)
4. ë¬¸ì œ ì—†ìœ¼ë©´ main ë¸Œëœì¹˜ì— ë¨¸ì§€
5. Jekyll íŒŒì¼ ì•„ì¹´ì´ë¸Œ ë¸Œëœì¹˜ë¡œ ì´ë™
```

**ì˜µì…˜ 2: ì¼ì‹œ ì „í™˜**
```
1. /experimental ì™„ì„±ë„ 100% í™•ì¸
2. ìœ ì§€ë³´ìˆ˜ ê³µì§€ ê²Œì‹œ
3. astro-experimental â†’ main ë³‘í•©
4. ì¦‰ì‹œ ì „í™˜
```

### ë¡¤ë°± ê³„íš
- Jekyll ì„¤ì • ë°±ì—… ë³´ê´€
- Gemfile ë° _config.yml ë³´ì¡´
- ë¬¸ì œ ë°œìƒ ì‹œ ì´ì „ ì»¤ë°‹ìœ¼ë¡œ revert

---

## í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

### í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜

**ê°œë°œ í™˜ê²½** (`.env`):
```env
# Google Analytics (ê°œë°œ ì‹œ ë¹„í™œì„±í™”)
PUBLIC_GA_ID=G-JWJT3DQR8G
PUBLIC_GA_ENABLED=false

# Giscus
PUBLIC_GISCUS_REPO=Tolerblanc/Tolerblanc.github.io
PUBLIC_GISCUS_REPO_ID=R_kgDOJ01EaQ
PUBLIC_GISCUS_CATEGORY=Announcements
PUBLIC_GISCUS_CATEGORY_ID=DIC_kwDOJ01Eac4Cerab

# Site
PUBLIC_SITE_URL=https://tolerblanc.github.io
PUBLIC_BASE_PATH=/experimental
```

**í”„ë¡œë•ì…˜ í™˜ê²½** (GitHub Secrets):
```
GA_ID=G-JWJT3DQR8G
ALGOLIA_API_KEY=... (ì„ íƒì )
```

---

## í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (formatDate, sortPosts)
- ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ (jekyll-to-mdx)

### í†µí•© í…ŒìŠ¤íŠ¸
- í˜ì´ì§€ ë Œë”ë§
- ë¼ìš°íŒ… ë™ì‘
- Content Collections ì¿¼ë¦¬

### E2E í…ŒìŠ¤íŠ¸
- ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°
- ê²€ìƒ‰ ê¸°ëŠ¥
- ëŒ“ê¸€ ë¡œë”©

### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- Lighthouse CI
- ë¹Œë“œ ì‹œê°„ ì¸¡ì •
- ë²ˆë“¤ í¬ê¸° ë¶„ì„

### SEO í…ŒìŠ¤íŠ¸
- ë©”íƒ€íƒœê·¸ ê²€ì¦
- êµ¬ì¡°í™”ëœ ë°ì´í„° ê²€ì¦
- ë§í¬ ë¬´ê²°ì„± ê²€ì‚¬

---

## ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

### ë¦¬ìŠ¤í¬ 1: SEO ì˜í–¥
**ë¦¬ìŠ¤í¬**: URL êµ¬ì¡° ë³€ê²½ìœ¼ë¡œ ì¸í•œ ê²€ìƒ‰ ìˆœìœ„ í•˜ë½
**ëŒ€ì‘**:
- URL êµ¬ì¡° ì™„ë²½íˆ ë³´ì¡´
- 301 ë¦¬ë‹¤ì´ë ‰íŠ¸ ì„¤ì • (í•„ìš” ì‹œ)
- Google Search Console ëª¨ë‹ˆí„°ë§

### ë¦¬ìŠ¤í¬ 2: ëŒ“ê¸€ ìœ ì‹¤
**ë¦¬ìŠ¤í¬**: Giscus pathname ë§¤í•‘ ë¶ˆì¼ì¹˜
**ëŒ€ì‘**:
- pathname ê¸°ë°˜ ë§¤í•‘ ìœ ì§€
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ê²€ì¦

### ë¦¬ìŠ¤í¬ 3: ì´ë¯¸ì§€ ëˆ„ë½
**ë¦¬ìŠ¤í¬**: ì´ë¯¸ì§€ ê²½ë¡œ ë³€í™˜ ì˜¤ë¥˜
**ëŒ€ì‘**:
- ìë™ ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ + ìˆ˜ë™ ê²€ì¦
- ê¹¨ì§„ ì´ë¯¸ì§€ ìë™ ê°ì§€ ìŠ¤í¬ë¦½íŠ¸

### ë¦¬ìŠ¤í¬ 4: ì„±ëŠ¥ ì €í•˜
**ë¦¬ìŠ¤í¬**: JavaScript ë²ˆë“¤ í¬ê¸° ì¦ê°€
**ëŒ€ì‘**:
- Astro Islands (ë¶€ë¶„ hydration)
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™”

### ë¦¬ìŠ¤í¬ 5: ë¹Œë“œ ì‹¤íŒ¨
**ë¦¬ìŠ¤í¬**: GitHub Actionsì—ì„œ ë¹Œë“œ ì‹¤íŒ¨
**ëŒ€ì‘**:
- ë¡œì»¬ì—ì„œ ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸
- ì˜ì¡´ì„± ë²„ì „ ê³ ì •
- ë¹Œë“œ ìºì‹± ì „ëµ

---

## ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ë¡œì»¬ ê°œë°œ
```bash
# Astro ê°œë°œ ì„œë²„ ì‹œì‘
pnpm dev

# Jekyll ê°œë°œ ì„œë²„ (ë¹„êµìš©)
pnpm jekyll:dev

# íƒ€ì… ì²´í¬
pnpm type-check

# ë¹Œë“œ
pnpm build

# ë¹Œë“œ ë¯¸ë¦¬ë³´ê¸°
pnpm preview
```

### ë¸Œëœì¹˜ ì „ëµ
```
main                    # í”„ë¡œë•ì…˜ (Jekyll)
  â””â”€â”€ astro-experimental # ì‹¤í—˜ (Astro)
        â””â”€â”€ feature/*    # ê¸°ëŠ¥ ë¸Œëœì¹˜
```

### ì»¤ë°‹ ì»¨ë²¤ì…˜
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…
refactor: ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€
chore: ë¹Œë“œ/ì„¤ì • ë³€ê²½
```

---

## ì°¸ê³  ìë£Œ

### Astro ê³µì‹ ë¬¸ì„œ
- https://docs.astro.build/
- https://docs.astro.build/en/guides/content-collections/
- https://docs.astro.build/en/guides/migrate-to-astro/

### ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
- Jekyll to Astro: https://docs.astro.build/en/guides/migrate-to-astro/from-jekyll/

### ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬
- MDX: https://mdxjs.com/
- Shiki: https://shiki.matsu.io/
- Giscus: https://giscus.app/

---

## ë‹¤ìŒ ì—ì´ì „íŠ¸ë¥¼ ìœ„í•œ ì»¨í…ìŠ¤íŠ¸ ìš”ì•½

### í˜„ì¬ ìƒíƒœ
1. **ë¸Œëœì¹˜**: `astro-experimental` ìƒì„± ì™„ë£Œ
2. **ì„¤ì •**: Astro í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ (package.json, tsconfig.json, astro.config.mjs)
3. **ì¸í”„ë¼**: GitHub Actions ì›Œí¬í”Œë¡œìš° ì„¤ì • ì™„ë£Œ
4. **ë¹Œë“œ**: ë¡œì»¬ ë¹Œë“œ ì„±ê³µ í™•ì¸ (0 errors)

### ì¦‰ì‹œ ì§„í–‰ ê°€ëŠ¥í•œ ì‘ì—…
1. **ì½˜í…ì¸  ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸** (Phase 2.1)
   - `src/utils/jekyll-to-mdx.js` ì‘ì„±
   - frontmatter íŒŒì‹± ë° ë³€í™˜ ë¡œì§
   - Liquid â†’ MDX ë³€í™˜

2. **Content Collections ì„¤ì •** (Phase 2.2)
   - `src/content/config.ts` ìƒì„±
   - ë¸”ë¡œê·¸ ìŠ¤í‚¤ë§ˆ ì •ì˜

3. **ê¸°ë³¸ ë ˆì´ì•„ì›ƒ êµ¬í˜„** (Phase 3.1)
   - `src/layouts/BaseLayout.astro`
   - `src/layouts/PostLayout.astro`

### í•„ìš”í•œ ì •ë³´
- ìƒ˜í”Œ í¬ìŠ¤íŠ¸ ê²½ë¡œ: `_posts/Web/NestJS/2025-03-15-nestjs-dematerializer-4.md`
- ì´ë¯¸ì§€ ë””ë ‰í† ë¦¬: `assets/images/`
- Jekyll ì„¤ì •: `_config.yml`

### ì£¼ì˜ì‚¬í•­
1. **SEO ìµœìš°ì„ **: URL êµ¬ì¡° ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€
2. **GA ID ìœ ì§€**: `G-JWJT3DQR8G` ê·¸ëŒ€ë¡œ ì‚¬ìš©
3. **Giscus ì„¤ì •**: pathname ë§¤í•‘ ìœ ì§€
4. **ë…ë¦½ì  ì»¤ë°‹**: ê° ê¸°ëŠ¥ì€ ë³„ë„ ì»¤ë°‹ìœ¼ë¡œ ê´€ë¦¬

### ì¸¡ì • ì§€í‘œ
- ë¹Œë“œ ì‹œê°„: ~0.5ì´ˆ (Astro 5.14.4)
- í¬ìŠ¤íŠ¸ ìˆ˜: 75ê°œ+ (ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ê¸° ì¤‘)
- ì»¤ë°‹ ìˆ˜: 4ê°œ ì™„ë£Œ (Phase 1)

---

## Astro 5.x ì—…ê·¸ë ˆì´ë“œ ìƒì„¸ ì •ë³´

### ì—…ê·¸ë ˆì´ë“œ ë‚ ì§œ
**2025-10-12** - Astro 4.16.0 â†’ 5.14.4 (ë©”ì´ì € ë²„ì „ ì—…ë°ì´íŠ¸)

### ì£¼ìš” ë³€ê²½ì‚¬í•­

#### 1. Content Layer API (ìƒˆ ê¸°ëŠ¥)
Astro 5.0ì˜ ê°€ì¥ í° ë³€í™”ëŠ” Content Layer API ë„ì…ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´:
- **5ë°° ë¹ ë¥¸ ë¹Œë“œ ì†ë„** (ëŒ€ê·œëª¨ ì½˜í…ì¸  ì»¬ë ‰ì…˜)
- **ë‹¤ì–‘í•œ ì†ŒìŠ¤ ì§€ì›**: Markdown, API, CMS, ë°ì´í„°ë² ì´ìŠ¤
- **í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€**: ê¸°ì¡´ Content Collections ì½”ë“œ ê·¸ëŒ€ë¡œ ì‘ë™

**ì ìš© íŒŒì¼**: `src/content.config.ts` (ì‹ ê·œ ìƒì„±)

```typescript
import { defineCollection, z } from 'astro:content';
import { glob } from 'astro/loaders';

const blog = defineCollection({
  loader: glob({ pattern: '**/*.{md,mdx}', base: './src/content/blog' }),
  schema: z.object({
    title: z.string(),
    description: z.string(),
    pubDate: z.coerce.date(),
    categories: z.array(z.string()),
    tags: z.array(z.string()),
  }),
});

export const collections = { blog };
```

**ì´ì **:
- ëª…ì‹œì  ì»¬ë ‰ì…˜ ì •ì˜ (auto-generation ê²½ê³  ì œê±°)
- glob loaderë¡œ ë¹ ë¥¸ íŒŒì¼ ìŠ¤ìº”
- íƒ€ì… ì•ˆì •ì„± ê°•í™”

#### 2. Vite 6.0 ì—…ê·¸ë ˆì´ë“œ
- ë” ë¹ ë¥¸ ê°œë°œ ì„œë²„
- ê°œì„ ëœ HMR (Hot Module Replacement)
- ìµœì‹  ë¹Œë“œ ìµœì í™”

#### 3. MDX 4.x ì—…ê·¸ë ˆì´ë“œ
**ë³€ê²½**: `@astrojs/mdx` 3.0.0 â†’ 4.3.7

**ì£¼ìš” ê°œì„ ì‚¬í•­**:
- JSX/MDX ì²˜ë¦¬ ì„±ëŠ¥ í–¥ìƒ
- ë” ë‚˜ì€ ì—ëŸ¬ ë©”ì‹œì§€
- TypeScript ì§€ì› ê°œì„ 

**Breaking Changes (ìš°ë¦¬ í”„ë¡œì íŠ¸ ì˜í–¥ ì—†ìŒ)**:
- êµ¬ë²„ì „ MDX í†µí•© í˜¸í™˜ì„± ì œê±° (ìš°ë¦¬ëŠ” ìµœì‹  ë²„ì „ ì‚¬ìš©)

#### 4. React í†µí•© ì—…ê·¸ë ˆì´ë“œ
**ë³€ê²½**: `@astrojs/react` 3.0.0 â†’ 4.4.0

**ê°œì„ ì‚¬í•­**:
- React 18.3.1 ì§€ì›
- ë¶€ë¶„ hydration ìµœì í™”
- ë” ë‚˜ì€ í´ë¼ì´ì–¸íŠ¸ ë””ë ‰í‹°ë¸Œ

#### 5. TypeScript ì„¤ì • ì—…ë°ì´íŠ¸
**ë³€ê²½**: `tsconfig.json` ì—…ë°ì´íŠ¸

```json
{
  "include": [".astro/types.d.ts", "src/**/*"]
}
```

**ì´ìœ **: Astro 5.xëŠ” `.astro/types.d.ts`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í¬í•¨í•´ì•¼ í•¨

### Breaking Changes ì˜í–¥ ë¶„ì„

| ë³€ê²½ì‚¬í•­ | ìš°ë¦¬ í”„ë¡œì íŠ¸ ì˜í–¥ | ì¡°ì¹˜ |
|---------|------------------|------|
| `<ViewTransitions />` â†’ `<ClientRouter />` | ì—†ìŒ | ì‚¬ìš© ì•ˆí•¨ |
| `compiledContent()` ë¹„ë™ê¸°í™” | ì—†ìŒ | ì•„ì§ ì‚¬ìš© ì•ˆí•¨ |
| Shiki í† í° ì´ë¦„ ë³€ê²½ | ë‚®ìŒ | í–¥í›„ ì»¤ìŠ¤í…€ í…Œë§ˆ ì ìš© ì‹œ ê³ ë ¤ |
| `astro:content` í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ ì œê±° | ì—†ìŒ | ì„œë²„ ì‚¬ì´ë“œë§Œ ì‚¬ìš© |
| hybrid ë Œë”ë§ ëª¨ë“œ ì œê±° | ì—†ìŒ | static ëª¨ë“œ ì‚¬ìš© |
| Script íƒœê·¸ ë™ì‘ ë³€ê²½ | ë‚®ìŒ | í˜„ì¬ ìŠ¤í¬ë¦½íŠ¸ ë¯¸ì‚¬ìš© |

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ë¹Œë“œ ì„±ê³µ**: âœ…
```
pnpm build
âœ“ Completed in 599ms
0 errors, 0 warnings, 0 hints
```

**íŒŒì¼ í¬ê¸°**:
- í´ë¼ì´ì–¸íŠ¸ ë²ˆë“¤: 143.47 KB (gzip: 46.21 KB)
- ì •ì  í˜ì´ì§€: 1ê°œ

### ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í™œìš©í•  Astro 5.x ê¸°ëŠ¥

1. **Content Layer Loaders**
   - Jekyll í¬ìŠ¤íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë¡œë“œ
   - ì»¤ìŠ¤í…€ loader ì‘ì„± ê°€ëŠ¥ (í•„ìš” ì‹œ)

2. **ê°œì„ ëœ ì´ë¯¸ì§€ ì²˜ë¦¬**
   - í¬ë¡­, ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
   - ìë™ srcset/sizes ìƒì„±

3. **Environment Variables (astro:env)**
   - íƒ€ì… ì•ˆì „ í™˜ê²½ ë³€ìˆ˜
   - Google Analytics ID, Giscus ì„¤ì • ë“±

### ì°¸ê³  ìë£Œ
- [Astro 5.0 Upgrade Guide](https://docs.astro.build/en/guides/upgrade-to/v5/)
- [Astro 5.0 Release Blog](https://astro.build/blog/astro-5/)
- [Content Layer API Docs](https://docs.astro.build/en/guides/content-collections/)

---

**ë§ˆì§€ë§‰ ì»¤ë°‹**: `ccf021c docs: Add comprehensive migration progress documentation`
**ë‹¤ìŒ ëª©í‘œ**: Phase 2 - ì½˜í…ì¸  ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ ê°œë°œ
